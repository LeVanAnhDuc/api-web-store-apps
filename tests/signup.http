### Variables
@baseUrl = http://localhost:5000/api/v1
@contentType = application/json
@email = 20110634@student.hcmute.edu.vn
@password = Password123!@#$%^&
@fullName = Le Van Anh Duc Test
@gender = male
@birthday = 1990-01-01

### 1. Send OTP
# @name sendOtp
POST {{baseUrl}}/auth/signup/send-otp
Content-Type: {{contentType}}
Accept-Language: en-US,en;q=0.9,vi;q=0.8

{
  "email": "{{email}}"
}

###

### 2. Verify OTP (Replace OTP from email)
# @name verifyOtp
POST {{baseUrl}}/auth/signup/verify-otp
Content-Type: {{contentType}}
Accept-Language: en-US,en;q=0.9,vi;q=0.8

{
  "email": "{{email}}",
  "otp": "169315"
}

###

### 3. Resend OTP (if needed)
# @name resendOtp
POST {{baseUrl}}/auth/signup/resend-otp
Content-Type: {{contentType}}
Accept-Language: vi,en;q=0.9

{
  "email": "{{email}}"
}

###

  
# 
### 4. Complete Signup (Use sessionId from Step 2 response)
# @name completeSignup
POST {{baseUrl}}/auth/signup/complete
Content-Type: {{contentType}}
Accept-Language: en-US,en;q=0.9,vi;q=0.8

{
  "email": "{{email}}",
  "password": "{{password}}",
  "sessionId": "{{verifyOtp.response.body.data.sessionId}}",
  "acceptTerms": true,
  "fullName": "{{fullName}}",
  "gender": "{{gender}}",
  "birthday": "{{birthday}}"
}

###

### ============================================
### Test Cases - Different Scenarios
### ============================================

### Test: Invalid Email Format
POST {{baseUrl}}/auth/signup/send-otp
Content-Type: {{contentType}}
Accept-Language: en

{
  "email": "invalid-email"
}

###

### Test: Missing Email
POST {{baseUrl}}/auth/signup/send-otp
Content-Type: {{contentType}}
Accept-Language: en

{
}

###

### Test: Invalid OTP
POST {{baseUrl}}/auth/signup/verify-otp
Content-Type: {{contentType}}
Accept-Language: en

{
  "email": "{{email}}",
  "otp": "000000"
}

###

### Test: Missing Required Fields in Complete
POST {{baseUrl}}/auth/signup/complete
Content-Type: {{contentType}}
Accept-Language: en

{
  "email": "{{email}}",
  "password": "{{password}}",
  "sessionId": "{{verifyOtp.response.body.data.sessionId}}"
}

###

### Test: Invalid Session ID
POST {{baseUrl}}/auth/signup/complete
Content-Type: {{contentType}}
Accept-Language: en

{
  "email": "{{email}}",
  "password": "{{password}}",
  "sessionId": "invalid-session-id",
  "acceptTerms": true,
  "fullName": "{{fullName}}",
  "gender": "{{gender}}",
  "birthday": "{{birthday}}"
}

###

### Test: Invalid Gender
POST {{baseUrl}}/auth/signup/complete
Content-Type: {{contentType}}
Accept-Language: en

{
  "email": "{{email}}",
  "password": "{{password}}",
  "sessionId": "{{verifyOtp.response.body.data.sessionId}}",
  "acceptTerms": true,
  "fullName": "{{fullName}}",
  "gender": "invalid-gender",
  "birthday": "{{birthday}}"
}

###

### Test: Password Too Short
POST {{baseUrl}}/auth/signup/complete
Content-Type: {{contentType}}
Accept-Language: en

{
  "email": "{{email}}",
  "password": "123",
  "sessionId": "{{verifyOtp.response.body.data.sessionId}}",
  "acceptTerms": true,
  "fullName": "{{fullName}}",
  "gender": "{{gender}}",
  "birthday": "{{birthday}}"
}

###

### Test: Accept Terms = false
POST {{baseUrl}}/auth/signup/complete
Content-Type: {{contentType}}
Accept-Language: en

{
  "email": "{{email}}",
  "password": "{{password}}",
  "sessionId": "{{verifyOtp.response.body.data.sessionId}}",
  "acceptTerms": false,
  "fullName": "{{fullName}}",
  "gender": "{{gender}}",
  "birthday": "{{birthday}}"
}

###

### Test: Vietnamese Language
POST {{baseUrl}}/auth/signup/send-otp
Content-Type: {{contentType}}
Accept-Language: vi

{
  "email": "{{email}}"
}

###

### ============================================
### Complete Flow - Copy this section to test
### ============================================

### Step 1: Send OTP
POST {{baseUrl}}/auth/signup/send-otp
Content-Type: {{contentType}}
Accept-Language: en

{
  "email": "newuser@example.com"
}

###

### Step 2: Check email and get OTP, then verify
POST {{baseUrl}}/auth/signup/verify-otp
Content-Type: {{contentType}}
Accept-Language: en

{
  "email": "newuser@example.com",
  "otp": "YOUR_OTP_HERE"
}

###

### Step 3: Complete signup with user details (Replace SESSION_ID_FROM_STEP_2)
POST {{baseUrl}}/auth/signup/complete
Content-Type: {{contentType}}
Accept-Language: en

{
  "email": "newuser@example.com",
  "password": "SecurePass123!",
  "sessionId": "SESSION_ID_FROM_STEP_2",
  "acceptTerms": true,
  "fullName": "New User",
  "gender": "female",
  "birthday": "1995-05-15"
}

###
